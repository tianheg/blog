#+TITLE: Emacs
#+DATE: <2022-02-11 Fri>
#+TAGS[]: 技术 Emacs

* Setup

** Emacs Hunspell

[[https://github.com/hunspell/hunspell#usage]]

#+BEGIN_SRC sh
# mkdir /usr/share/hunspell
# cd /usr/share/hunspell
# wget -O en_US.aff  https://cgit.freedesktop.org/libreoffice/dictionaries/plain/en/en_US.aff?id=a4473e06b56bfe35187e302754f6baaa8d75e54f
# wget -O en_US.dic https://cgit.freedesktop.org/libreoffice/dictionaries/plain/en/en_US.dic?id=a4473e06b56bfe35187e302754f6baaa8d75e54f
#+END_SRC

* Emacs 资料

- [[https://wiki.systemcrafters.net/emacs/]]
- [[https://www.emacswiki.org/]]

* 我想用 Emacs 做什么

** 搜索多个文件

=M-x rgrep=

** 用 Org-agenda 做 GTD

** 使用 Org 表格

|              | 腾讯云        | 阿里云     |
|--------------+---------------+------------|
| 地域         | 上海          |            |
| 系统镜像     | Ubuntu20.04   |            |
| vCPU         | 2 核          |            |
| 内存         | 2G            |            |
| 每月流量     | 300G          | 800G       |
| 系统盘       | 40G SSD       | 50G ESSD   |
| 限峰值带宽   | 4Mbps         |            |
| 价格         | 50 元/月      | 90 元/月   |

我想让属性值相同的部分（地域、系统镜像、vCPU、内存、限峰值带宽）两列合并。

目前使用 HTML：

#+BEGIN_EXPORT html
<table>
<thead>
<tr>
<th></th>
<th>腾讯云</th>
<th>阿里云</th>
</tr>
</thead>
<tbody>
<tr>
<td>地域</td>
<td colspan="2" align="center">上海</td>
</tr>
<tr>
<td>系统镜像</td>
<td colspan="2" align="center">Ubuntu20.04</td>
</tr>
<tr>
<td>vCPU</td>
<td colspan="2" align="center">2 核</td>
</tr>
<tr>
<td>内存</td>
<td colspan="2" align="center">2G</td>
</tr>
<tr>
<td>每月流量</td>
<td>300G</td>
<td>800G</td>
</tr>
<tr>
<td>系统盘</td>
<td>40G SSD</td>
<td>50G ESSD</td>
</tr>
<tr>
<td>限峰值带宽</td>
<td colspan="2" align="center">4Mbps</td>
</tr>
<tr>
<td>价格</td>
<td>50 元/月</td>
<td>90 元/月</td>
</tr>
</tbody>
</table>
#+END_EXPORT

其他参考：

#+BEGIN_EXPORT html
<!-- This HTML table template is generated by emacs/table.el -->
<table border="1">
  <tr>
    <td rowspan="2" align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td colspan="3" align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Singular&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;Plural&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;Masculine&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;Neuter&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;Feminine&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;All&nbsp;genders&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;Nominative&nbsp;<br />
      &nbsp;Accusative&nbsp;<br />
      &nbsp;Dative&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;Genitive&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;*der*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*den*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*dem*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*dessen*&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;*das*&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*das*&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*dem*&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*dessen*&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;*die*&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*die*&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*der*&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*deren*&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;*die*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*die*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*denen*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;*deren*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
  </tr>
</table>

<!-- This HTML table template is generated by emacs/table.el -->
<table border="1">
  <tr>
    <td colspan="2" align="left" valign="top">table-capture&nbsp;is&nbsp;a&nbsp;powerful&nbsp;command.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />Here&nbsp;are&nbsp;some&nbsp;things&nbsp;it&nbsp;can&nbsp;do:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      Parse&nbsp;Cell&nbsp;Items&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;Using&nbsp;row&nbsp;and&nbsp;column&nbsp;delimiter&nbsp;regexps,<br />
      &nbsp;it&nbsp;parses&nbsp;the&nbsp;specified&nbsp;text&nbsp;area&nbsp;and&nbsp;&nbsp;<br />
      &nbsp;extracts&nbsp;cell&nbsp;items&nbsp;into&nbsp;a&nbsp;table.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
  </tr>
</table>
#+END_EXPORT

--------------

1. [[https://developer.mozilla.org/en-US/docs/Learn/HTML/Tables/Basics]]
2. [[https://emacs.stackexchange.com/a/7313]]
3. [[https://orgmode.org/guide/Tables.html#Tables]]
4. [[https://orgmode.org/manual/Tables.html#Tables]]

** 使用 Org Mode checkbox

=C-c C-x C-r (org-toggle-radio-button)= 添加新的 checkbox

* 输入法及字体

我在终端环境下用 Emacs 更多，所以基本上系统输入法配置好 Fcitx5，使用我的
.emacs.d
配置，就可以正常输入中文了。但是，最近使用发现------输入中文引号时，会占据实际上没有的空白（终于找到原因：在启动
Emacs 时设置了 =LC_CTYPE=zh_CN.UTF-8= ）。

* 升级包

[[https://github.com/purcell/emacs.d/issues/33#issuecomment-6039572]]

通过定期执行 =M-x package-list-packages RET= ，然后按下 =U= 键，之后按下
=x= 键。

* 不使用 use-package

[[https://github.com/jwiegley/use-package]] 安装

#+BEGIN_EXAMPLE
    (require 'package)
    (add-to-list 'package-archives
             '("melpa" . "https://melpa.org/packages/") t)

    (unless (package-installed-p 'use-package)
      (package-install 'use-package))
#+END_EXAMPLE

配置入门

当需要安装包的时候，输入：

#+BEGIN_EXAMPLE
    (use-package ox-hugo
      :ensure t
      :pin melpa)
#+END_EXAMPLE

-  =:init= 在加载包前执行代码
-  =:config=
